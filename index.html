          <!DOCTYPE html>
          <html lang="en">
            <head>
              <meta charset="UTF-8" />
              <meta name="viewport" content="width=device-width, initial-scale=1.0" />
              <title>YouTube Companion Dashboard</title>
              <!-- Tailwind CSS -->
              <script src="https://cdn.tailwindcss.com"></script>
              <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1193737173089001" crossorigin="anonymous"></script>
              <!-- React + ReactDOM -->
              <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
              <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
              <!-- Babel for JSX -->
              <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
            </head>
            <body class="bg-gray-100">
              <div id="root"></div>

              <script type="text/babel">
                const API_KEY = "AIzaSyCQ2khBaHj_lxj1UCuzpQeWLdCeYO7Q_cc"; // <-- apna YouTube API key yaha daalo

                // ---------------- Header ----------------
          function Header({ onSearch, onToggleSidebar }) {
            return (
              <header className="bg-red-600 text-white p-4 flex justify-between items-center">
                <div className="flex items-center space-x-4">
                  {/* Hamburger for mobile */}
                  <button
                    className="md:hidden text-2xl"
                    onClick={onToggleSidebar}
                  >
                    ‚ò∞
                  </button>
                  <h1 className="text-xl font-bold">YouTube Companion</h1>
                </div>
                <input
                  type="text"
                  placeholder="Search..."
                  className="px-3 py-1 rounded text-black"
                  onChange={(e) => onSearch(e.target.value)}
                />
              </header>
            );
          }


                // ---------------- Sidebar ----------------
          function Sidebar({ currentPage, setPage, isOpen, onClose }) {
            const menu = [
              { name: "Home", icon: "üè†" },
              { name: "Search", icon: "üîç" },
              { name: "Watch", icon: "‚ñ∂Ô∏è" },
              { name: "Library", icon: "üìö" },
              { name: "Channels", icon: "üì∫" },
              { name: "About", icon: "üìò" }, 
              { name: "Privacy", icon: "üîê" },
              { name: "Contact", icon: "üìû" },
            ];

            return (
              <>
                {/* Overlay for mobile */}
                <div
                  className={`fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden transition-opacity ${
                    isOpen ? "block" : "hidden"
                  }`}
                  onClick={onClose}
                ></div>

                <aside
                  className={`
                    fixed top-0 left-0 h-full w-64 bg-gray-900 text-white p-4 z-30 transform transition-transform
                    ${isOpen ? "translate-x-0" : "-translate-x-full"}
                    md:relative md:translate-x-0 md:min-h-screen md:block
                  `}
                >
                  <div className="font-bold text-lg mb-4 flex justify-between items-center">
                    Menu
                    <button
                      className="md:hidden text-xl"
                      onClick={onClose}
                    >
                      ‚úï
                    </button>
                  </div>
                  <ul className="space-y-2">
                    {menu.map((item) => (
                      <li
                        key={item.name}
                        className={`p-2 rounded cursor-pointer ${
                          currentPage === item.name ? "bg-gray-700" : "hover:bg-gray-700"
                        }`}
                        onClick={() => {
                          setPage(item.name);
                          onClose(); // Close sidebar on mobile after click
                        }}
                      >
                        {item.icon} {item.name}
                      </li>
                    ))}
                  </ul>
                </aside>
              </>
            );
          }

                // ---------------- VideoCard ----------------
          function VideoCard({ video, onSelect, onSave }) {
            const videoId = video.id.videoId || video.id;
            const videoUrl = `https://www.youtube.com/watch?v=${videoId}`;
            const downloadUrl = `${videoId}`; // External download tool

            return (
              <div className="bg-white shadow rounded overflow-hidden hover:shadow-lg flex flex-col">
                <div className="cursor-pointer" onClick={() => onSelect(videoId)}>
                  <img
                    src={video.snippet.thumbnails.medium.url}
                    alt={video.snippet.title}
                    className="w-full h-40 object-cover"
                  />
                  <div className="p-2">
                    <h2 className="font-semibold line-clamp-2">{video.snippet.title}</h2>
                    <p className="text-sm text-gray-600">{video.snippet.channelTitle}</p>
                  </div>
                </div>

                <div className="px-2 pb-2 mt-auto flex flex-wrap justify-between items-center text-sm text-gray-600 gap-2">
                  <a
                    href={downloadUrl}
                    target="_blank"
                    rel="noopener noreferrer"
                    className="text-blue-600 hover:underline"
                  >
                    ‚¨áÔ∏è Download
                  </a>
                  <button
                    onClick={() => navigator.clipboard.writeText(videoUrl)}
                    className="text-green-600 hover:underline"
                  >
                    üîó Share
                  </button>
                  <button
                    onClick={() => alert("Comment feature coming soon!")}
                    className="text-red-500 hover:underline"
                  >
                    üí¨ Comment
                  </button>
                  <button
                    onClick={() => onSave(video)}
                    className="text-purple-600 hover:underline"
                  >
                    üíæ Save
                  </button>
                </div>
              </div>
            );
          }



                // ---------------- VideoGrid ----------------
                function VideoGrid({ videos, loading, onSelect, onSave }) {
            if (loading) return <Loader />;
            if (!videos.length) return <EmptyState text="No videos found." />;
            

            return (
              <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-4">
                {videos.map((v) => (
                  <VideoCard
                    key={v.id.videoId || v.id}
                    video={v}
                    
                    onSelect={onSelect}
                    onSave={onSave}
                  />
                ))}
              </div>
            );
          }


                // ---------------- ChannelPill ----------------
                function ChannelPill({ name }) {
                  return (
                    <span className="bg-gray-200 px-3 py-1 rounded-full text-sm mr-2">
                      {name}
                    </span>
                  );
                }

                // ---------------- Loader ----------------
                function Loader() {
                  return (
                    <div className="flex justify-center items-center p-6">
                      <div className="animate-spin rounded-full h-10 w-10 border-t-2 border-red-600"></div>
                    </div>
                  );
                }

                // ---------------- EmptyState ----------------
                function EmptyState({ text }) {
                  return (
                    <div className="text-gray-500 text-center p-6">
                      {text || "Nothing here yet!"}
                    </div>
                  );
                }

                // ---------------- Pages ----------------
          function Home({ videos, loading, onSelect, onSave }) {
            return (
              <div>
                <h2 className="text-xl font-bold p-4">üî• Trending</h2>
                <VideoGrid videos={videos} loading={loading} onSelect={onSelect} onSave={onSave} />
              </div>
            );
          }

          function Search({ query, results, loading, onSelect, onSave }) {
            return (
              <div>
                <h2 className="text-xl font-bold p-4">
                  {query ? `üîç Results for "${query}"` : "Search Videos"}
                </h2>
                <VideoGrid videos={results} loading={loading} onSelect={onSelect} onSave={onSave} />
              </div>
            );
          }

          function Watch({ videoId }) {
            const [comments, setComments] = React.useState([]);
            const [loading, setLoading] = React.useState(false);
            const [error, setError] = React.useState(null);
            const [userComment, setUserComment] = React.useState("");
            const [localComments, setLocalComments] = React.useState([]);

            React.useEffect(() => {
              if (!videoId) return;

              async function fetchComments() {
                setLoading(true);
                setError(null);
                try {
                  const res = await fetch(
                    `https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&videoId=${videoId}&maxResults=5&key=${API_KEY}`
                  );
                  const data = await res.json();
                  setComments(data.items || []);
                } catch (err) {
                  console.error("Failed to load comments:", err);
                  setError("Unable to load comments.");
                }
                setLoading(false);
              }

              fetchComments();
              setLocalComments([]); // reset local comments when video changes
            }, [videoId]);

            const handleAddComment = () => {
              if (userComment.trim() === "") return;

              const newComment = {
                id: Date.now().toString(),
                authorDisplayName: "You",
                authorProfileImageUrl: "https://i.pravatar.cc/40", // random avatar
                textDisplay: userComment,
              };

              setLocalComments([newComment, ...localComments]);
              setUserComment(""); // clear input
            };

            if (!videoId) return <EmptyState text="‚ñ∂Ô∏è Select a video to watch." />;

            return (
              <div className="p-4">
                {/* Video Player */}
                <div className="aspect-w-16 aspect-h-9 mb-4">
                  <iframe
                    className="w-full h-[500px] rounded"
                    src={`https://www.youtube.com/embed/${videoId}`}
                    frameBorder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowFullScreen
                  ></iframe>
                </div>

                {/* Comment Input */}
                <div className="mb-6">
                  <h3 className="text-lg font-bold mb-2">üí¨ Add a Comment</h3>
                  <div className="flex space-x-2">
                    <input
                      type="text"
                      value={userComment}
                      onChange={(e) => setUserComment(e.target.value)}
                      placeholder="Write your comment..."
                      className="flex-1 p-2 rounded border"
                    />
                    <button
                      onClick={handleAddComment}
                      className="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"
                    >
                      Comment
                    </button>
                  </div>
                </div>

                {/* Comment List */}
                <div className="mt-4">
                  <h3 className="text-lg font-bold mb-2">üó®Ô∏è Comments</h3>

                  {loading && <Loader />}
                  {error && <div className="text-red-500">{error}</div>}
                  {!loading && comments.length === 0 && localComments.length === 0 && (
                    <EmptyState text="No comments yet." />
                  )}

                  <ul className="space-y-4 max-h-[400px] overflow-y-auto pr-2">
                    {/* User's added comments */}
                    {localComments.map((c) => (
                      <li key={c.id} className="flex space-x-3">
                        <img
                          src={c.authorProfileImageUrl}
                          alt={c.authorDisplayName}
                          className="w-10 h-10 rounded-full"
                        />
                        <div>
                          <p className="font-semibold">{c.authorDisplayName}</p>
                          <p className="text-gray-700 text-sm">{c.textDisplay}</p>
                        </div>
                      </li>
                    ))}

                    {/* YouTube fetched comments */}
                    {comments.map((c) => {
                      const { authorDisplayName, authorProfileImageUrl, textDisplay } =
                        c.snippet.topLevelComment.snippet;
                      return (
                        <li key={c.id} className="flex space-x-3">
                          <img
                            src={authorProfileImageUrl}
                            alt={authorDisplayName}
                            className="w-10 h-10 rounded-full"
                          />
                          <div>
                            <p className="font-semibold">{authorDisplayName}</p>
                            <p
                              className="text-gray-700 text-sm"
                              dangerouslySetInnerHTML={{ __html: textDisplay }}
                            ></p>
                          </div>
                        </li>
                      );
                    })}
                  </ul>
                </div>
              </div>
            );
          }



                function Library() {
                  return <EmptyState text="üìö Your library is empty." />;
                  <Library videos={savedVideos} onSelect={handleSelectVideo} />

                }

                function Channels() {
                  return (
                    <div className="p-4">
                      <h2 className="font-bold mb-2">üì∫ Followed Channels</h2>
                      <ChannelPill name="React Devs" />
                      <ChannelPill name="Music Mix" />
                    </div>
                  );
                }
                // -----------------About -----------
                    function About() {
                      return (
                        <div className="p-6">
                          <h2 className="text-2xl font-bold mb-4">üìò About YouTube Companion</h2>
                          <p className="text-gray-700">
                            YouTube Companion is a simple and powerful dashboard built using the YouTube API.
                            It helps users explore trending videos, search topics, watch YouTube content, and
                            save their favorites in a personal library.
                          </p>
                          <p className="mt-4 text-gray-700">
                            Our goal is to provide a clean, distraction-free experience that brings the best
                            of YouTube to one place ‚Äî fast and mobile-friendly.
                          </p>
                        </div>
                      );
                    }

                // -----------------Contact -------------
                function Contact() {
                      return (
                        <div className="p-6">
                          <h2 className="text-2xl font-bold mb-4">üìû Contact Us</h2>
                          <p className="text-gray-700 mb-4">
                            Got feedback, questions, or suggestions? We'd love to hear from you!
                          </p>
                          <p className="text-gray-700">
                            Email us at:{" "}
                            <a href="mailto:indreshchauhantiit@gmail.com" className="text-red-600 hover:underline">
                              your-email@example.com
                            </a>
                          </p>
                        </div>
                      );
                    }

                // ------------------ Privacy ----------
                function PrivacyPolicy() {
                    return (
                      <div className="p-6">
                        <h2 className="text-2xl font-bold mb-4">üîê Privacy Policy</h2>
                        <p className="text-gray-700">
                          This website uses the YouTube API to fetch and display public content like trending videos,
                          video details, and comments. We do not collect or store any personal data from users.
                        </p>
                        <p className="mt-4 text-gray-700">
                          All data shown belongs to YouTube and its content creators.  
                          By using this site, you agree to be bound by the{" "}
                          <a
                            href="https://www.youtube.com/t/terms"
                            className="text-blue-600 hover:underline"
                            target="_blank"
                          >
                            YouTube Terms of Service
                          </a>{" "}
                          and{" "}
                          <a
                            href="https://policies.google.com/privacy"
                            className="text-blue-600 hover:underline"
                            target="_blank"
                          >
                            Google Privacy Policy
                          </a>.
                        </p>
                      </div>
                    );
                  }




                // ---------------- App ----------------
                function App() {
                  const [page, setPage] = React.useState("Home");
                  const [searchQuery, setSearchQuery] = React.useState("");
                  const [trending, setTrending] = React.useState([]);
                  const [searchResults, setSearchResults] = React.useState([]);
                  const [loading, setLoading] = React.useState(false);
                  const [currentVideo, setCurrentVideo] = React.useState(null);
                  

                  // Fetch trending videos
                  React.useEffect(() => {
                    async function fetchTrending() {
                      setLoading(true);
                      try {
                        const res = await fetch(
                          `https://www.googleapis.com/youtube/v3/videos?part=snippet&chart=mostPopular&maxResults=9&regionCode=IN&key=${API_KEY}`
                        );
                        const data = await res.json();
                        setTrending(data.items || []);
                      } catch (err) {
                        console.error(err);
                      }
                      setLoading(false);
                    }
                    fetchTrending();
                  }, []);

                  // Fetch search results
                  React.useEffect(() => {
                    if (!searchQuery) return;
                    async function fetchSearch() {
                      setLoading(true);
                      try {
                        const res = await fetch(
                          `https://www.googleapis.com/youtube/v3/search?part=snippet&q=${searchQuery}&maxResults=9&type=video&key=${API_KEY}`
                        );
                        const data = await res.json();
                        setSearchResults(data.items || []);
                      } catch (err) {
                        console.error(err);
                      }
                      setLoading(false);
                    }
                    fetchSearch();
                  }, [searchQuery]);

                  const handleSelectVideo = (videoId) => {
                    setCurrentVideo(videoId);
                    setPage("Watch");
                  };
                  const [savedVideos, setSavedVideos] = React.useState(() => {
                      const saved = localStorage.getItem("savedVideos");
                      return saved ? JSON.parse(saved) : [];
                    });

                    const saveToLibrary = (video) => {
                      const exists = savedVideos.some(
                        (v) => (v.id.videoId || v.id) === (video.id.videoId || video.id)
                      );
                      if (exists) return;
                      const updated = [video, ...savedVideos];
                      setSavedVideos(updated);
                      localStorage.setItem("savedVideos", JSON.stringify(updated));
                    };


                  let content;
                  if (page === "Home")
                    content = <Home videos={trending} loading={loading} onSelect={handleSelectVideo} />;
                  if (page === "Search")
                    content = (
                      <Search
                        query={searchQuery}
                        results={searchResults}
                        loading={loading}
                        onSelect={handleSelectVideo}
                        onSave={saveToLibrary}
                      />
                    );
                  if (page === "Watch") content = <Watch videoId={currentVideo} />;
                  if (page === "Library") content = <Library />;
                  if (page === "Channels") content = <Channels />;
                  if (page === "About") content = <About />;
                  if (page === "Privacy") content = <PrivacyPolicy />;
                  if (page === "Contact") content = <Contact />;

                  return (
                    <div className="flex">
                      <Sidebar currentPage={page} setPage={setPage} />
                      <div className="flex-1">
                        <Header onSearch={setSearchQuery} />
                        {content}
                      </div>
                    </div>
                  );
                }

                // ---------------- Render ----------------
                const root = ReactDOM.createRoot(document.getElementById("root"));
                root.render(<App />);
              </script>
            </body>
          </html>
